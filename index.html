<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Khảo sát Academic Burnout</title>
<style>
  body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; padding: 20px; max-width:800px; margin:auto; line-height:1.5; }
  h1 { font-size:1.4rem; }
  .q { margin:12px 0; padding:10px; border-radius:8px; }
  label { display:block; margin-bottom:6px; font-weight:600; }
  select { width:100%; padding:8px; font-size:1rem; }
  .btn { margin-top:12px; padding:10px 14px; border-radius:8px; cursor:pointer; border: none; box-shadow: 0 2px 6px rgba(0,0,0,0.08); }
  .btn-primary { background:#2563eb; color:white; }
  .btn-ghost { background:#f3f4f6; }
  .result { margin-top:18px; padding:14px; border-radius:10px; background:#f8fafc; }
  .warn { color:#b91c1c; font-weight:700; }
  .ok { color:#065f46; font-weight:700; }
  .note { font-size:0.9rem; color:#374151; margin-top:8px; }
  table { width:100%; border-collapse:collapse; margin-top:8px; }
  td, th { padding:8px; border:1px solid #e5e7eb; text-align:left; }
</style>
</head>
<body>
  <h1>Khảo sát mức độ Academic Burnout (Dành cho HS)</h1>
  <p>Hãy trả lời theo cảm nhận của bạn trong <strong>4 tuần gần nhất</strong>. Chọn số từ 0 (Không bao giờ) đến 6 (Mỗi ngày).</p>

  <form id="surveyForm">
    <!-- Exhaustion Q1-Q6 -->
    <div id="questions"></div>

    <button type="button" class="btn btn-primary" onclick="compute()">Xem kết quả</button>
    <button type="button" class="btn btn-ghost" onclick="exportCSV()">Xuất CSV</button>
  </form>

  <div id="output" class="result" style="display:none;"></div>

<script>
// Mảng câu hỏi (15)
const questions = [
  "1. Em cảm thấy kiệt sức và không còn chút năng lượng nào vì việc học.",
  "2. Sau mỗi buổi học, em cảm thấy tinh thần và cảm xúc của mình trống rỗng, không còn gì.",
  "3. Đến cuối ngày học, em cảm thấy mệt mỏi đến mức không muốn làm thêm bất cứ việc gì.",
  "4. Em cảm thấy mệt mỏi khi thức dậy vào buổi sáng và phải đối mặt với một ngày khác ở trường.",
  "5. Chỉ cần nghĩ đến việc phải học hay đến lớp thôi cũng khiến em thấy mệt mỏi và áp lực.",
  "6. Em thấy mình không còn quan tâm đến việc học hành như trước đây nữa.",
  "7. Em không còn cảm thấy hào hứng hay nhiệt tình với việc học nữa.",
  "8. Em tự hỏi liệu việc học tập ở trường có thực sự có ích và ý nghĩa gì không.",
  "9. Em cảm thấy chán ghét mọi thứ liên quan đến trường lớp, sách vở và bài tập.",
  "10. Em cảm thấy tự tin rằng mình có thể hoàn thành tốt các nhiệm vụ học tập.",
  "11. Em tin rằng mình là một học sinh có năng lực.",
  "12. Em cảm thấy mình đã học được nhiều điều có giá trị trong năm học này.",
  "13. Em cảm thấy những đóng góp của mình trong lớp học là có ích.",
  "14. Em cảm thấy rất vui và có động lực khi đạt được mục tiêu học tập mà mình đề ra.",
  "15. Khi gặp khó khăn trong học tập, em tin mình có thể tìm cách giải quyết được."
];

const container = document.getElementById('questions');
questions.forEach((q,i)=>{
  const div = document.createElement('div');
  div.className = 'q';
  const label = document.createElement('label');
  label.innerText = q;
  div.appendChild(label);
  const sel = document.createElement('select');
  sel.id = 'q'+(i+1);
  for(let v=0; v<=6; v++){
    const opt = document.createElement('option');
    opt.value = v;
    opt.innerText = `${v} - ${scaleLabel(v)}`;
    sel.appendChild(opt);
  }
  div.appendChild(sel);
  container.appendChild(div);
});

function scaleLabel(v){
  const labels = ["Không bao giờ","Hiếm khi","Thỉnh thoảng","Đôi khi","Thường xuyên","Rất thường xuyên","Luôn luôn"];
  return labels[v];
}

function compute(){
  const vals = [];
  for(let i=1;i<=15;i++) vals.push( Number(document.getElementById('q'+i).value) );

  // đảo chiều nhóm C (10–15)
  for(let i=9; i<15; i++){
    vals[i] = 6 - vals[i];
  }

  const total = vals.reduce((a,b)=>a+b,0);

  let level = "";
  let advice = "";
  if(total < 15){
    level = "AN TOÀN";
    advice = "Bạn không có dấu hiệu của hội chứng burnout. Hãy duy trì lối sống cân bằng!";
  } else if(total <= 41){
    level = "MỨC NHẸ";
    advice = "Có dấu hiệu burnout nhẹ. Hãy ngủ đủ, thư giãn, quản lý thời gian hiệu quả hơn.";
  } else if(total <= 59){
    level = "MỨC TRUNG BÌNH";
    advice = "Burnout trung bình. Cần xác định nguồn áp lực và thay đổi ngay (nghỉ ngơi hợp lý, nói chuyện với người thân/bạn bè).";
  } else {
    level = "MỨC CAO";
    advice = "Burnout cao – cảnh báo! Nên tìm đến chuyên viên tư vấn hoặc bác sĩ tâm lý học đường.";
  }

  const out = document.getElementById('output');
  out.style.display = 'block';
  out.innerHTML = `
    <h3>Kết quả khảo sát</h3>
    <table>
      <tr><td><strong>Tổng điểm</strong></td><td>${total}</td></tr>
      <tr><td><strong>Mức độ</strong></td><td>${level}</td></tr>
    </table>
    <p class="note">${advice}</p>
    <p class="note"><em>Màu đỏ trong bản gốc là tính điểm ngược (nhóm C – câu 10 đến 15).</em></p>
  `;

  window.lastResult = { values: vals, total, level };
}

function exportCSV(){
  if(!window.lastResult){ alert('Chưa có kết quả để xuất.'); return; }
  const r = window.lastResult;
  const header = ['q1','q2','q3','q4','q5','q6','q7','q8','q9','q10','q11','q12','q13','q14','q15','total','level'];
  const row = r.values.concat([r.total, r.level]);
  const csv = header.join(',') + '\n' + row.join(',');
  const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'burnout_result.csv';
  a.click();
  URL.revokeObjectURL(url);
}
</script>
</body>
</html>

